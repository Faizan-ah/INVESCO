[{"C:\\Users\\Faian\\invvesco\\client\\src\\index.js":"1","C:\\Users\\Faian\\invvesco\\client\\src\\reportWebVitals.js":"2","C:\\Users\\Faian\\invvesco\\client\\src\\App.js":"3","C:\\Users\\Faian\\invvesco\\client\\src\\Home.js":"4","C:\\Users\\Faian\\invvesco\\client\\src\\RealEstateMainPage.js":"5","C:\\Users\\Faian\\invvesco\\client\\src\\realEstateMainPage.js":"6","C:\\Users\\Faian\\invvesco\\client\\src\\Components\\Header.js":"7","C:\\Users\\Faian\\invvesco\\client\\src\\Signup.js":"8","C:\\Users\\Faian\\invvesco\\client\\src\\Login.js":"9"},{"size":500,"mtime":499162500000,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"12","hashOfConfig":"11"},{"size":1398,"mtime":1608059897432,"results":"13","hashOfConfig":"11"},{"size":1457,"mtime":1607959526835,"results":"14","hashOfConfig":"11"},{"size":5401,"mtime":1607961117225,"results":"15","hashOfConfig":"11"},{"size":226,"mtime":1607950278847,"results":"16","hashOfConfig":"11"},{"size":606,"mtime":1608059934206,"results":"17","hashOfConfig":"11"},{"size":7882,"mtime":1608126148272,"results":"18","hashOfConfig":"11"},{"size":6201,"mtime":1608125617903,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"7lvclu",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"22"},"C:\\Users\\Faian\\invvesco\\client\\src\\index.js",[],["40","41"],"C:\\Users\\Faian\\invvesco\\client\\src\\reportWebVitals.js",[],"C:\\Users\\Faian\\invvesco\\client\\src\\App.js",[],"C:\\Users\\Faian\\invvesco\\client\\src\\Home.js",[],"C:\\Users\\Faian\\invvesco\\client\\src\\RealEstateMainPage.js",[],"C:\\Users\\Faian\\invvesco\\client\\src\\realEstateMainPage.js",[],"C:\\Users\\Faian\\invvesco\\client\\src\\Components\\Header.js",[],"C:\\Users\\Faian\\invvesco\\client\\src\\Signup.js",["42","43","44","45","46","47","48"],"C:\\Users\\Faian\\invvesco\\client\\src\\Login.js",["49","50"],"import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport Signup from './Signup'\r\nimport './StyleSheets/Login.css'\r\nexport class Login extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            isLoading: true,\r\n            token: '',\r\n            signInEmail: '',\r\n            signInPassword: '',\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        const obj =this.getFromStorage('the_main_app')\r\n        console.log('obje',obj.token)\r\n        if(obj && obj.token){\r\n            const {token} = obj.token\r\n            //verify token\r\n            fetch('/verify?token='+token)\r\n            .then(res=>res.json())\r\n            .then(json=>{\r\n                if(json.success){\r\n                    this.setState({\r\n                        token:token,\r\n                        isLoading:false\r\n                    })\r\n                }\r\n                else{\r\n                    this.setState({\r\n                        isLoading:false,\r\n                    })\r\n                }\r\n            })\r\n        }\r\n        else{\r\n            this.setState({\r\n                isLoading:false,\r\n            })\r\n        }\r\n    }\r\n    //getting token \r\n    getFromStorage =(key)=>{\r\n        if(!key){\r\n            return null;\r\n        }\r\n        try{\r\n            const valueStr = localStorage.getItem(key)\r\n            if(valueStr){\r\n                return JSON.parse(valueStr)\r\n            }\r\n            return null;\r\n        }catch(err){\r\n            return null;\r\n        }\r\n    }\r\n\r\n    setInStorage =(key,obj)=>{\r\n        if(!key){\r\n            console.log(\"key missing\");\r\n        }\r\n        try{\r\n            localStorage.setItem(key,JSON.stringify(obj))\r\n        }\r\n        catch(err){\r\n            console.log(\"errrr\");\r\n        }\r\n    }\r\n\r\n    resetInputs = ()=>{\r\n        this.setState({\r\n            isLoading: false,\r\n            signInEmail: '',\r\n            signInPassword: '',\r\n        })\r\n    }\r\n\r\n    onChange = (event) =>{\r\n        const target = event.target;\r\n        const name = target.name;\r\n        const value = target.value;\r\n            this.setState({\r\n                [name]:value\r\n            })\r\n        }\r\n        \r\n    onSignin = () =>{\r\n            //event.preventDefault()\r\n            //Grab State\r\n            const {\r\n                signInEmail,\r\n                signInPassword,\r\n            } = this.state\r\n    \r\n            this.setState({\r\n                isLoading:true,\r\n            })\r\n            //post request to backend\r\n            fetch('/account/signin', {\r\n                method:'POST',\r\n                headers:{\r\n                    'Content-type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    email:signInEmail,\r\n                    password:signInPassword,\r\n                }),\r\n            })\r\n            .then(res=>res.json())\r\n            .then(json =>{\r\n                console.log('json',json)\r\n                if(json.success){\r\n                    alert('signin successful')\r\n                    this.setInStorage('the_main_app',{ token: json.token })   \r\n                    console.log(json.message,\" successfull i guess\");\r\n                    this.resetInputs();\r\n                    this.setState({\r\n                        token:json.token\r\n                    })\r\n                } else{\r\n                    alert(json.message)\r\n                    console.log(\"login eroror\")\r\n                    this.setState({\r\n                        isLoading:false,\r\n                    }) \r\n                }\r\n            })\r\n            // .catch((err)=>{\r\n            //     console.log(\"123\")\r\n            // })\r\n    \r\n        }\r\n    //function for logout\r\n    isLogout = () =>{\r\n        this.setState({\r\n            isLoading:true,\r\n        })\r\n        const obj =this.getFromStorage('the_main_app')\r\n        if(obj && obj.token){\r\n            const {token} = obj.token\r\n            //verify token\r\n            fetch('/logout?token='+token)\r\n            .then(res=>res.json())\r\n            .then(json=>{\r\n                if(json.success){\r\n                    this.setState({\r\n                        token:'',\r\n                        isLoading:false\r\n                    })\r\n                }\r\n                else{\r\n                    this.setState({\r\n                        isLoading:false,\r\n                    })\r\n                }\r\n            })\r\n        }\r\n        else{\r\n            this.setState({\r\n                isLoading:false,\r\n            })\r\n        }\r\n    }\r\n    render(props) {\r\n        // if(this.state.isLoading){\r\n        //     return(<div><p>Loading...</p></div>)\r\n        // }\r\n        return (\r\n           \r\n            <div class=\"login-main\" >\r\n                <form method=\"post\" class=\"loginForm\" >\r\n                    <div class='loginData'>\r\n                        <h1>Welcome</h1>\r\n                        <label for=\"email\">Email</label>\r\n                        <input type=\"email\" name=\"signInEmail\" value = {this.state.signInEmail} id=\"email\" onChange={this.onChange} required></input>\r\n                        <label for=\"password\">Password</label>\r\n                        <input type=\"password\" name=\"signInPassword\" value = {this.state.signInPassword} id=\"password\" onChange={this.onChange} required></input>\r\n                        <div>\r\n                            <div class=\"button\" id=\"button-login\" onClick = {this.onSignin}>\r\n                                <div id=\"circle\"></div>\r\n                                <a>LOGIN</a>\r\n                                {/* <Link to=\"/\">LOGIN</Link> */}\r\n                            </div>\r\n                        </div>\r\n                        <div class='links'>\r\n                            <Link id=\"fpass\" >Forgot Password?</Link>\r\n                            <Link id=\"regAcc\" to=\"/registration\">Register Account</Link>\r\n                            {/* check */}\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    \r\n                </form>\r\n\r\n               \r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default Login\r\n",{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","severity":1,"message":"56","line":4,"column":8,"nodeType":"57","messageId":"58","endLine":4,"endColumn":13},{"ruleId":"55","severity":1,"message":"59","line":175,"column":16,"nodeType":"57","messageId":"58","endLine":175,"endColumn":25},{"ruleId":"55","severity":1,"message":"60","line":176,"column":13,"nodeType":"57","messageId":"58","endLine":176,"endColumn":18},{"ruleId":"55","severity":1,"message":"61","line":177,"column":13,"nodeType":"57","messageId":"58","endLine":177,"endColumn":24},{"ruleId":"62","severity":1,"message":"63","line":231,"column":80,"nodeType":"64","endLine":231,"endColumn":107},{"ruleId":"62","severity":1,"message":"63","line":231,"column":134,"nodeType":"64","endLine":231,"endColumn":158},{"ruleId":"62","severity":1,"message":"63","line":235,"column":21,"nodeType":"64","endLine":235,"endColumn":33},{"ruleId":"55","severity":1,"message":"65","line":3,"column":8,"nodeType":"57","messageId":"58","endLine":3,"endColumn":14},{"ruleId":"62","severity":1,"message":"66","line":183,"column":33,"nodeType":"64","endLine":183,"endColumn":36},"no-native-reassign",["67"],"no-negated-in-lhs",["68"],"no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar","'isLoading' is assigned a value but never used.","'token' is assigned a value but never used.","'signUpError' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'Signup' is defined but never used.","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","no-global-assign","no-unsafe-negation"]